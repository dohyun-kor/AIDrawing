<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.example.model.dao.RoomDao">

    <!-- 방 생성 -->
    <insert id="createRoom" parameterType="com.example.model.dto.RoomDto">
        INSERT INTO Room
                (host_id,
                room_name,
                status,
                max_players,
                now_players)
        VALUES (#{hostId},
                #{roomName},
                #{status},
                #{maxPlayers},
                #{nowPlayers})
    </insert>

    <update id="updateRoom" parameterType="java.util.Map">
        UPDATE Room
        SET
            host_id = #{roomDto.hostId},
            room_name = #{roomDto.roomName},
            status = #{roomDto.status},
            max_players = #{roomDto.maxPlayers},
            now_players = #{roomDto.nowPlayers}
        WHERE room_id = #{roomId}
    </update>

    <select id="searchRoom" resultType="com.example.model.dto.RoomListDto">
        SELECT *
        FROM Room
    </select>


</mapper>
